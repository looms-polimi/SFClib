within SFC.Tests;

model testAction_SR_SI_ "Set/Reset Action with a single set signal and reset signal"
  SFC.BasicBlocks.Step S10(initialStep = true)  annotation(
    Placement(visible = true, transformation(origin = {57, 39}, extent = {{-11, -11}, {11, 11}}, rotation = 0)));
  SFC.BasicBlocks.Condition C1(y = S0.t > 2) annotation(
    Placement(visible = true, transformation(origin = {98, 8}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  SFC.BasicBlocks.Transition T10_11 annotation(
    Placement(visible = true, transformation(origin = {57, 7}, extent = {{-13, -13}, {13, 13}}, rotation = 0)));
  SFC.BasicBlocks.Step S11 annotation(
    Placement(visible = true, transformation(origin = {57, -21}, extent = {{-11, -11}, {11, 11}}, rotation = 0)));
  SFC.BasicBlocks.Transition T11_10 annotation(
    Placement(visible = true, transformation(origin = {57, -53}, extent = {{-13, -13}, {13, 13}}, rotation = 0)));
  SFC.BasicBlocks.Condition C2(y = S1.t > 1) annotation(
    Placement(visible = true, transformation(origin = {102, -52}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  SFC.BasicBlocks.ActionSR_SI SR annotation(
    Placement(visible = true, transformation(origin = {-18, 38}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  SFC.BasicBlocks.Step S01 annotation(
    Placement(visible = true, transformation(origin = {-111, -27}, extent = {{-11, -11}, {11, 11}}, rotation = 0)));
  SFC.BasicBlocks.Condition condition(y = S0.t > 2) annotation(
    Placement(visible = true, transformation(origin = {-72, 6}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  SFC.BasicBlocks.Transition T01_00 annotation(
    Placement(visible = true, transformation(origin = {-111, -57}, extent = {{-13, -13}, {13, 13}}, rotation = 0)));
  SFC.BasicBlocks.Step S00(initialStep = true) annotation(
    Placement(visible = true, transformation(origin = {-111, 39}, extent = {{-11, -11}, {11, 11}}, rotation = 0)));
  SFC.BasicBlocks.Transition T00_01 annotation(
    Placement(visible = true, transformation(origin = {-111, 5}, extent = {{-13, -13}, {13, 13}}, rotation = 0)));
  SFC.BasicBlocks.Condition condition1(y = S1.t > 1) annotation(
    Placement(visible = true, transformation(origin = {-70, -56}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  SFC.BasicBlocks.ActionSR_SI RS annotation(
    Placement(visible = true, transformation(origin = {152, 44}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
equation
  connect(T11_10.OUT, S10.IN) annotation(
    Line(points = {{57, -56}, {57, -64}, {24, -64}, {24, 56}, {57, 56}, {57, 50}}));
  connect(S10.OUT, T10_11.IN) annotation(
    Line(points = {{57, 28}, {57, 10}}));
  connect(T10_11.C, C1.y) annotation(
    Line(points = {{73, 7}, {82, 7}, {82, 8}, {87, 8}}, color = {255, 0, 255}));
  connect(S11.OUT, T11_10.IN) annotation(
    Line(points = {{57, -32}, {57, -50}}));
  connect(T11_10.C, C2.y) annotation(
    Line(points = {{73, -53}, {82, -53}, {82, -52}, {91, -52}}, color = {255, 0, 255}));
  connect(T10_11.OUT, S11.IN) annotation(
    Line(points = {{57, 4}, {57, -10}}));
  connect(T01_00.OUT, S00.IN) annotation(
    Line(points = {{-111, -60}, {-111, -68.2}, {-142, -68.2}, {-142, 51.8}, {-111, 51.8}, {-111, 49.8}}));
  connect(T00_01.OUT, S01.IN) annotation(
    Line(points = {{-111, 2.4}, {-111, -15.6}}));
  connect(T01_00.C, condition1.y) annotation(
    Line(points = {{-95, -57}, {-89.5, -57}, {-89.5, -56}, {-81, -56}}, color = {255, 0, 255}));
  connect(S00.OUT, T00_01.IN) annotation(
    Line(points = {{-111, 28}, {-111, 8}}));
  connect(S01.OUT, T01_00.IN) annotation(
    Line(points = {{-111, -38}, {-111, -54}}));
  connect(S00.X, SR.IN_S) annotation(
    Line(points = {{-95.6, 39}, {-65.6, 39}, {-65.6, 42}, {-31.6, 42}}));
  connect(T00_01.C, condition.y) annotation(
    Line(points = {{-95.4, 5}, {-92.4, 5}, {-92.4, 6}, {-83, 6}}, color = {255, 0, 255}));
  connect(S10.X, RS.IN_R) annotation(
    Line(points = {{72, 39}, {107, 39}, {107, 40}, {138, 40}}));
  connect(S11.X, RS.IN_S) annotation(
    Line(points = {{72, -21}, {120, -21}, {120, 48}, {138, 48}}));
  connect(S01.X, SR.IN_R) annotation(
    Line(points = {{-96, -26}, {-46, -26}, {-46, 36}, {-32, 36}, {-32, 34}}));
protected
  annotation(
    Documentation(info = "<html><head></head><body><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"><div><div>Action&nbsp;<b>A</b>&nbsp;is connected to Step&nbsp;<u>S1</u>. When S1 becomes active, action A is set and remains set until the end of the simulation.&nbsp;</div><div></div></div><div><br></div><div><br></div><div>&nbsp;<img width=\"400\" src=\"modelica://SFC/Images/Test/S2.png\"></div></body></html>"),
    experiment(StartTime = 0, StopTime = 10, Tolerance = 1e-6, Interval = 0.02),
  Diagram,
  Icon);
end testAction_SR_SI_;